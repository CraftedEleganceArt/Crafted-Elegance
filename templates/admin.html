<!DOCTYPE html>
<html>
<head>
    <title>Admin - Add Product</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div style="margin-top: 50px; text-align: center; padding: 0 20px;">
        <h2>Add New Product</h2>
        
        <form action="/admin" method="POST" enctype="multipart/form-data" style="display: inline-block; text-align: left; background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
            
            <label>Product Name:</label><br>
            <input type="text" name="name" placeholder="Enter Product Name" required style="width: 100%; margin-bottom: 15px;"><br>
            
            <label>Price:</label><br>
            <input type="text" name="price" placeholder="e.g. â‚¹750" required style="width: 100%; margin-bottom: 15px;"><br>

            <label>Category:</label><br>
            <select name="category" style="width: 100%; margin-bottom: 15px; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
                <option value="Lippan Art">Lippan Art</option>
                <option value="Macrame">Macrame</option>
                <option value="Paintings">Paintings</option>
                <option value="Other">Other</option>
            </select><br>
            
            <label>Description:</label><br>
            <textarea name="details" placeholder="Enter Product Details" style="width: 100%; margin-bottom: 15px; height: 80px;"></textarea><br>
            
            <label>Select Product Image:</label><br>
            <input type="file" name="image_file" accept="image/*" required style="margin-bottom: 15px;"><br>
            
            <button type="submit" class="buy-btn" style="width: 100%;">Upload Product</button>
        </form>

        <hr style="margin: 50px 0;">

        <h3>All Products List</h3>
        <div style="overflow-x: auto;">
            <table border="1" style="width: 100%; border-collapse: collapse; text-align: center; background: white; margin-bottom: 30px;">
                <tr style="background-color: #800000; color: white;">
                    <th style="padding: 10px;">ID</th>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Category</th> <th>Price</th>
                    <th>Action</th>
                </tr>
                {% for product in products %}
                <tr>
                    <td style="padding: 10px;">{{ product.id }}</td>
                    <td><img src="{{ url_for('static', filename=product.image) }}" width="60" style="border-radius: 5px;"></td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.category }}</td> <td>{{ product.price }}</td>
                    <td>
                        <a href="/edit/{{ product.id }}" style="color: blue; text-decoration: none; font-weight: bold; margin-right: 10px;">Edit</a>
                        <a href="/delete/{{ product.id }}" style="color: red; text-decoration: none; font-weight: bold;" onclick="return confirm('Are you sure you want to delete this?')">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>

        <br>
        <a href="/logout" style="color: #800000; font-weight: bold; text-decoration: none; border: 1px solid #800000; padding: 5px 15px; border-radius: 5px;">Logout from Admin</a>
        <br><br>
    </div>
</body>
</html>
